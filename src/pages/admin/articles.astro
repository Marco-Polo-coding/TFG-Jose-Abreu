---
import AdminLayout from '../../layouts/AdminLayout.astro';
import ArticleManagement from '../../components/admin/ArticleManagement';

// Indicar que esta página debe ser renderizada en el servidor
export const prerender = false;

// Verificar si el usuario es administrador usando solo cookies
const userRole = Astro.cookies.get('userRole')?.value;
const isAdmin = userRole === 'admin';

// Si no es admin, redirigir al inicio
if (!isAdmin) {
  return Astro.redirect('/');
}
---

<AdminLayout title="Gestión de Artículos">
  <ArticleManagement client:load />
</AdminLayout>